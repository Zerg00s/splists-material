<md-content ng-if='items && items.length > 0' md-whiteframe="2">

  <md-toolbar md-component-id='listToolBar' class="md-toolbar-tools">
    <h4>
      <md-button ng-click="openListView()" class="md-icon-button" md-hue-2>
        <i class="material-icons">launch</i>
        <md-tooltip md-direction="right" md-delay='500'>Open the the list</md-tooltip>
      </md-button>

      <md-button ng-click="openListView()" class="md-icon-button" md-hue-2>
        <i class="material-icons"><i class="material-icons">add_circle_outline</i></i>
        <md-tooltip md-direction="right" md-delay='500'>Add new item</md-tooltip>
      </md-button>
      {{vm.listTitle}}
    </h4>
  </md-toolbar>

  <md-table-container>
    <table md-table ng-model="selected" md-progress="promise">
      <thead md-head md-order="query.order" md-on-reorder="getItems">
        <tr md-row>
          <th md-column></th>
          <th md-column style="font-size: 110%;   color: black;" ng-repeat='field in viewFields'>{{field.Title}}</th>
        </tr>
      </thead>
      <tbody md-body>
        <tr md-row md-select="item" ng-repeat="item in items">
          <td md-cell>
            <md-button ng-click="click(item)" class="md-icon-button md-accent md-button md-ink-ripple" md-hue-2>
              <i class="material-icons">launch</i>
              <md-tooltip md-direction="right" md-delay='500'>Open the item</md-tooltip>
            </md-button>
          </td>
          <td md-cell ng-repeat='field in viewFields'>
            <table-cell field='field' item='item'></table-cell>
          </td>
          <!--<td ng-repeat='field in viewFields'>{{item[field.InternalName]}}</td>-->

        </tr>
      </tbody>
    </table>
  </md-table-container>

  <!--TODO: I WILL NEED TO IMPLEMENT MY CUSTOM PAGINATION FOR SHAREPOINT-->
  <!--<md-table-pagination 
    md-limit="query.limit" 
    md-limit-options="[5, 10, 15]" 
    md-page="query.page" 
    md-total="{{items.length}}" 
    md-on-paginate="getNextBatchOfItems" 
    md-page-select></md-table-pagination>-->

  <md-button class="btn btn-primary" ng-click="getNextBatchOfItems()" ng-if="nextUrl">Load more</md-button>

</md-content>